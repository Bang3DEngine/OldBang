#include <vector>
#include <string>
#include <iostream>
#include <QApplication>

#include "glm/glm.hpp"

#include "Bang.h"
#include "ShaderProgram.h"
#include "MeshRenderer.h"
#include "MeshPyramid.h"
#include "Entity.h"
#include "Camera.h"
#include "Canvas.h"
#include "Shader.h"
#include "Timer.h"
#include "Framebuffer.h"
#include "Texture2D.h"
#include "TestBehaviour.h"
#include "StageReader.h"
#include "TestCameraBehaviour.h"

#include "EditorStage.h"
#include "WindowMain.h"
#include "WindowMainAutoGenerated.h"

int main(int argc, char *argv[])
{
    QApplication app(argc, argv);

    QFont font;
    font.setFamily(font.defaultFamily());
    font.setPixelSize(12);
    app.setFont(font);

    QMainWindow *window = new QMainWindow;
    WindowMain::Init(window, &app); //init window main
    WindowMain *windowMain = WindowMain::GetInstance();

    Stage *stage = nullptr;

    #ifndef BANG_EDITOR
    stage = new Stage();
    #else
    stage = new EditorStage();
    #endif

    StageReader::ReadStage("res/Stages/stageTest1.stage", stage);
    windowMain->canvas->AddStage(stage);
    windowMain->canvas->SetCurrentStage("MainStage");
    ///////

    return app.exec();
}
